# Анализ оттока клиентов банка

**Тип проекта**: учебный проект

**Статус проекта**: завершен

**Цели исследования**: повышение качества работы по удержанию клиентов и снижение процента оттока клиентов

**Объект исследования**: датасет с данными о клиентах банка "Метанпром"

**Используемые технологии**: Python, библиотеки Pandas, Matplotlib, Numpy, Seaborn, Scipy, Sklearn

**Тетрадка проекта**: [доступна по ссылке]()

**Презентация по проекту**: [доступна по ссылке](https://disk.yandex.ru/d/FFmnELVH94ZIQg) 

**Лицензия распространения кода проекта**: Apache License 2.0 

**Задачи, которые были решены в ходе исследования**:
- Загрузка данных из предоставленного источника 
- Предобработка данных:
    - Проверка наименований столбцов датасета и при необходимости их переименование 
    - Анализ пропусков в столбцах датасета, оценка возможности их заполнения 
    - Проверка корректности типов данных, их изменение при необходимости 
    - Проверка дубликатов в датасете (полных и неявных) и при необходимости их удаление 
    - Проверка на корреткность и аномалии значений количественных и качетсвенных параметров датасета 
- Проведение исследовательского анализа данныз (EDA):
    - Предварительная подготовка данных для исследования, добавление новых столбцов датасета при необходимости 
    - Исследование количественных параметров - базовые статистические параметры, гистограмма, проверка аномалий и выбросов в значениях 
    - Исследование качественных параметров - частота значений параметров 
    - При необходимости удаление выбросов и аномалий в данных 
    - При необходимости преобразование категориальных столбцов в бинарные
    - Построение предварительной корреляционной матрицы для параметров датасета 
    - Исследование распределения значений признаков по уровню оттока клиентов 
- Выделение сегментов клиентов, наиболее склонных к оттоку:
    - определение уровня оттока по всему датасету 
    - определение интервалов значений и отдельных значений параметров клиентов, которые показывают наибольший отток
    - разбиение клиентов на сегменты с использованием результатов EDA и выделенных интерфалов значений параметров 
    - доплонительная классификация клиентов с ипользованием кластеризации методом K-means:
        - выделение признаков клиента в отдельный стандартизованные датасет
        - построение дендрограммы на стандартизованной матрице признаков и принятие решения о количестве кластеров, 
        - разбиение датасета с признаками на кластер
        - изучение характеристик получившихся кластеров - средние/медианные значения признаков, распределения значений признаков в разбивке по кластерам, оценка процента оттока по каждому кластеру    
    - на основании ранее полученных данных определение не менее 3-х наиболее показательных сегментов клиентов, наиболее склонных к оттоку
    - приоритезация выделенных сегментов клиентов 
    - формулирование выводов по выделенным сегментам
- Проверка статистических гипотез:
    - На основании проведенного анализа определить гипотезы, подлежащие проверке. Возможные предварительные варианты (окончательный перечень гипотез будет определен в ходе проекта):
        - Гипотеза 1. Проверить зависимоть между уровнем денежного состояния клиента (уровнем заработной платы и балансом на счете) и вероятностью ухода 
        - Гипотеза 2. Проверить влияние баллов кредитного скоринга на вероятность ухода 
        - Гипотеза 3. Определить склонны ли к уходу неактивные клиенты 
        - Гипотеза 4. Определить склонны ли к уходу клиенты, у которых мало банковских продуктов
        - Гипотеза 5. Проверить зависимость между наличием кредтной карты и вероятностью ухода клиента 
        - Гипотеза 6. Определить склонны ли к уходу клиенты определенных возрастных групп 
    - Выбор типа гипотезы - формулирование двусторонней или односторонней гипотезы 
    - Выделение тестовых выборок 
    - Проверка гипотезы в "ручном" режиме, используя данные EDA и результаты новых сравнений между выборками
    - Проверка гипотезы с использованием статистических тестов с обоснованием выбора уровня статистической значимости и используемого статистического теста 
    - формулирование выводов по проведенным проверкам гипотез 
- Разработка рекомендаций по повышению удержания клиентов с учетом выявленных отточных клиентов и результатов проверки гипотез 

**Примеры графиков, построенных в ходе исследования**:

![image](https://github.com/NataliaSolntseva/YandexPracticumTasks/assets/107438073/cbeaadae-484f-4e83-a856-5575f8da70fe)

![image](https://github.com/NataliaSolntseva/YandexPracticumTasks/assets/107438073/72893294-e8a9-4638-8229-f69273a0c9c0)

![image](https://github.com/NataliaSolntseva/YandexPracticumTasks/assets/107438073/14551edc-bf04-494f-a7ba-cbb16fd91b76)

![image](https://github.com/NataliaSolntseva/YandexPracticumTasks/assets/107438073/978ca8f9-2ca5-4951-94fd-64dd897ff037)

![image](https://github.com/NataliaSolntseva/YandexPracticumTasks/assets/107438073/0538f5d6-4109-4e04-81fc-0ac7960c06cd)

![image](https://github.com/NataliaSolntseva/YandexPracticumTasks/assets/107438073/e60563d6-e34c-4b64-8477-a1b759f1603f)

![image](https://github.com/NataliaSolntseva/YandexPracticumTasks/assets/107438073/fa4afe4b-7b1f-459d-9481-f8f48c544711)

![image](https://github.com/NataliaSolntseva/YandexPracticumTasks/assets/107438073/7220f6f7-1980-45d5-a857-efe0bbcda01f)

![image](https://github.com/NataliaSolntseva/YandexPracticumTasks/assets/107438073/8a0a7721-3b0f-400b-a372-10442e792453)

![image](https://github.com/NataliaSolntseva/YandexPracticumTasks/assets/107438073/94e76d38-0ba6-4641-8859-9d17cc3f079e)

![image](https://github.com/NataliaSolntseva/YandexPracticumTasks/assets/107438073/e58f55f5-8345-4be0-b33f-cd0c904f7503)

**Ключевые выводы исследования** (полные результаты исследования представлены в тетрадке проекта):

В ходе исследования был пронализирован датасет с данными о клиентах банка и признаком оттока. Средний отток по банку - 18,2%.

Были получены следующие общие результаты:
- Датасет содержал примерно 25% пропусков в балансе клиента - это срез был представлен в основном клиентами с 0 оценкой собственности и имеющих 1 продукт. Общее значение оттока для этого среза - 0,5% и ни один из признаков не давал высокого показателя оттока.
- Анализ количественных и качественных признаков по всему датасету показал, что в разрезе отдельных признаков зарплата не имеет значимого влияния на отток, а наиболее склонны к оттоку клиенты со следующими признаками (если рассматривать параметры изолированно друг от друга):
    - очки скоринга примерно с 830 до 920 
    - возраст с 25 примерно до 35 и с 50 до 60 
    - оценка недвижимости - от 3 баллов 
    - количество продуктов - от 2 
    - гендер - мужчины
    - город - показали примерно одинаковый уровень оттока
    - крединая карта - выделяем клиентов без кредитной карты 
    - активность - выделяем активных клиентов 
- По результатам кластеризации лучше всего в плане высокого процента оттока показали себя:
    - мужчины из Рыбинска и Ярославля, дополнительные признаки - активные, без кредитных карт, продукты больше 3, и можно проверить баллы скоринга больше 80. Возраст в этой категории не сильно выделялся 
    - клиенты только из Ростова, дополнительные признаки - активные, без кредитной карты, баллы собственнсти больше 4, продукты меньше 5, скоринг больше 880 и возраст от 26 до 42 и с 48 до 59
- Проверка гипотез подтвердила ранее сделанные предварительные выводы.   

По результатам проведенного анализа были проведены эксперименты по сочетанию различных характеристик клиентов и выявлены 10 сегментов клиентов с оттоком выше среднего по банку

![image](https://github.com/NataliaSolntseva/YandexPracticumTasks/assets/107438073/1b63cdb7-a17f-4946-9d4c-859905353ccb)

Рекомендации по работе с клиентами для первых топ-3 сегментов:
- Сегмент 8 - это клиенты активного возраста с оценкой собственности выше среднего. Рекомендация работать над качеством услуг и современными технологиями по предоставлению сервисов. Также можно предложить выгодные акции по страхованию имущества 
- Сегмент 3 - это тоже активные клиенты с продуктами более 2. Рекомендацию предложить более выгодные условия по продуктам банка, повышенную ставку по вкладам, скидки на обслуживанию карт, повышенный кэшбек при оплате картой банка 
- Сегмент 2 - мужчины активного возраста с продуктами больше 2. Можно предложить скидки у партнеров - скидки на бензин или автозапчасти, страхование автомобиля или иные выгодные условия с акцентом на гендер
